<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Artale Boss Timer</title>
  <!-- Materialize CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <div class="card-panel">
      <header>
        <h1 class="flow-text">Artale Boss Timer</h1>
        <p class="grey-text text-darken-1">記錄今天對 Boss 的擊殺（本地儲存）</p>
      </header>

      <div class="section">
        <div class="row valign-wrapper">
          <div class="col s12 m6">
            <label for="bossSelect">選擇 Boss</label>
            <select id="bossSelect" class="browser-default"></select>
          </div>
        </div>

        <!-- 表單常駐於頁面，使用者選擇 Boss 後即可直接填寫 -->
        <div id="formSection">
          <form id="killForm">
            <input type="hidden" id="editingId" />
            <div class="row">
              <div class="input-field col s12 m4"> <span id="formBoss" class="valign-wrapper"></span> </div>
              <div class="input-field col s12 m4">
                <input id="killTime" name="killTime" type="time" step="1" required />
                <label for="killTime" class="active">擊殺時間</label>
              </div>
              <div class="input-field col s12 m4">
                <input id="channel" name="channel" type="number" min="1" max="3000" required />
                <label for="channel" class="active">頻道 (1-3000)</label>
              </div>
            </div>

            <div class="row">
              <div class="col s12 m4">出貨</div>
              <div class="col s12 m8">
                <label><input name="looted" type="radio" value="true" required /><span>是</span></label>
                <label style="margin-left:16px"><input name="looted" type="radio" value="false" /><span>否</span></label>
              </div>
            </div>

            <div class="row">
              <div class="input-field col s12">
                <textarea id="note" class="materialize-textarea" maxlength="200"></textarea>
                <label for="note">備註</label>
              </div>
            </div>

            <div class="row">
              <div class="col s12 right-align">
                <button type="submit" class="waves-effect waves-light btn green">儲存</button>
                <a id="cancelBtn" class="waves-effect btn grey lighten-2 black-text">取消</a>
              </div>
            </div>
          </form>
        </div>

        <div class="section">
          <h5>當天紀錄</h5>
          <div id="stats" class="grey-text text-darken-1"></div>
          <table id="recordsTable" class="highlight responsive-table">
            <thead>
              <tr>
                <th>時間</th>
                <th>頻道</th>
                <th>出貨</th>
                <th>備註</th>
                <th>預估復活</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

      </div>

      <!-- toast container for our custom toasts -->
      <div id="toastContainer" aria-live="polite" aria-atomic="true"></div>

      <!-- confirm modal (custom) -->
      <div id="confirmModal" class="hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
        <div class="modalBackdrop"></div>
        <div class="modalCard">
          <h3 id="confirmTitle">請確認</h3>
          <div id="confirmMessage">訊息</div>
          <div class="actions">
            <button id="confirmOk" class="waves-effect btn">確認</button>
            <button id="confirmCancel" class="waves-effect btn grey lighten-2 black-text">取消</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Materialize JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', function(){ if(window.M) M.AutoInit(); });</script>
  <script src="app.js"></script>
</body>
</html>
